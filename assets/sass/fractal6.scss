
/*
 *
 * Bulma Fixes
 *
 */

#body {
    // FIX the fix-top-navbar padding (for the #mainPane}
    padding-top: calc(#{$navbar-height} - 0.5rem ) !important; // why - 0.5 ? mystery

    // For discrete footer.
    min-height: calc(100vh - #{$navbar-height}) !important;

    @include desktop {
        // Orga Menu adjustments
        @include until-fullhd {
            &.has-orga-menu > .orgPane {
                margin-left: 40px;

                .kb-board {
                    margin-left: calc(#{$orga-menu-width} - 40px) !important;
                }
            }
        }

        // Tree Menu adjustments
        &.has-tree-menu > .orgPane {
            margin-left: $tree-menu-width !important;
        }
        &.has-tree-menu.has-orga-menu > .orgPane {
            margin-left: calc(#{$tree-menu-width} + #{$orga-menu-width}) !important;
        }

        #helperBar.has-tree-menu,
        #mainPane.has-tree-menu > *:not(.kb-board) {
            padding-left: 2%;
        }
        #helperBar.has-tree-menu,
        #mainPane.has-tree-menu > .columns {
            justify-content: normal;
            &:not(#overview):not(.kb-board) > .column:first-child {
                width: 97%;
            }
            &#overview {
                margin-left: 0 !important;
                margin-right: 0 !important;
                & > .column {
                    width: 48.75%;
                    &:first-child {
                        padding-left:0;
                    }
                }
            }
        }
        &.has-orga-menu #tree-menu {
            margin-left: $orga-menu-width !important;
        }

        // Footbar adjustment with menus
        // @DEBUG: :has selector is not well supported yet, especially by firefox...
        // &.has-tree-menu:has(.orgPane) ~ #footBar {
         &.has-tree-menu ~ #footBar {
             padding-left: calc(#{$tree-menu-width} + #{$size-medium}) !important;
         }
         &.has-orga-menu ~ #footBar {
             padding-left: calc(#{$orga-menu-width} + #{$size-medium}) !important;
         }
         &.has-tree-menu.has-orga-menu ~ #footBar {
             padding-left: calc(#{$tree-menu-width} + #{$orga-menu-width} + #{$size-medium}) !important;
         }

    }

    // KB board adjustments with menus
    @include fullhd {
        &.has-orga-menu:not(.has-tree-menu) .kb-board {
            margin-left: $orga-menu-width !important;
        }
    }
}

// Modal
html.has-modal-active, html.has-modal-active2 {
    @include desktop {
        // @DEBUG: breaks the body scroll on mobile
        // is user click "< precedent pag"...
        overflow: hidden !important;
        padding-right: 14px; /* Avoid width reflow */
    }

    .tabs:not(.modal .tabs), .table-container {
        overflow: hidden;
    }
    .modal .tabs {
        overflow-x: auto;
    }
}
#navbarTop.has-modal-active, #navbarTop.has-modal-active2 {
    @include desktop {
        .navbar {
            padding-right: 14px; /* Avoid width reflow */
        }
    }
}

@include mobile {
  .reverse-columns {
    flex-direction: column-reverse;
    display: flex;
  }
}

.dropdown-content {
      .dropdown-item:hover {
          background-color: var(--dropdown-item-hover-background-color);
          &, & > * {
              cursor: pointer !important;
          }
      }
      a.dropdown-item:hover {
          color: var(--link);
      }
  }

.is-helper {
    .dropdown-content {
        font-weight: 500;
        background-color: #fffaeb !important;
    }
    .dropdown-item:hover {
        background-color: inherit;
    }
}

.navbar-divider {
    background-color: var(--border-color-light);
}
.dropdown-divider {
    background-color: var(--border-color-light);
    margin: 0.1rem 0;
}

.is-left-mobile {
    @include mobile {
        left: 0 !important;
        right: 0 !important;
    }
}

hr {
    height: 1px !important;
    &.is-2 {
        height: 2px !important
    }
    &.is-3 {
        height: 4px !important
    }
}

.is-size-bg {
    font-size: 1.3rem;
}

.column {
    /*  Fix/scrollable column */
    &.is-fullheight {
        min-height: calc(100vh - #{$navbar-height} + #{$size-small});
        max-height: calc(100vh - #{$navbar-height} + #{$size-small});
        height:     calc(100vh - #{$navbar-height} + #{$size-small});
        //display: flex;
        //flex-direction: row;
        //justify-content: stretch;
        overflow-y: auto;
    }

    /* add a margin-top only when item are wrapped */
    &.flex-gap {
        display: inline-flex;
        flex-wrap: wrap;
        gap: 8px 0;
    }

}

.clearfix {
    display: flow-root;
}

.mx-mobile {
    @include touch {
        margin-left: 25px !important;
        margin-right: 25px !important;
    }
}

.mt-desktop {
    @include desktop {
        margin-top: 2rem;
    }
}

.mt-mobile {
    @include mobile {
        margin-top: $size-small;
    }
}

.form {
    .field-label {
        flex-grow: 1;
    }
}

.input,
.textarea {
    transition: all 100ms ease;
    &:focus {
        border-color: var(--input-focus-border-color) !important;
        background-color: var(--input-focus-background-color) !important;
        box-shadow: rgba(40, 87, 164, 0.25) 0px 0px 0px 2px;

        &:hover {
            border-color: var(--input-focus-border-color) !important;
            background-color: var(--input-focus-background-color) !important;
        }
    }
    &::placeholder {
        color: var(--input-placeholder-color) !important;
    }
    &:empty:before {
        content: attr(data-placeholder);
        color: var(--input-placeholder-color) !important;
        opacity: 0.3;
    }
}
.input:not([type="search"]),
.textarea {
    border-color: var(--border-color-light);
    &:hover {
        border-color: var(--border-color-light);
    }
    &.is-disabled, &[disabled] {
        color: var(--text-light2);
        -webkit-text-fill-color: var(--text-light2); // chrome f*ck !
        background-color: var(--input-disabled-background-color) !important;
    }
}
.input[type="search"] {
    border-color: var(--border-color);
    &:hover {
        border-color: var(--border-color);
    }
}

input[type="checkbox"] {
    margin-right: 0.5em;
    height: 16px;
    width: 16px;
    //clip-path: circle(60% at 50% 50%);
    &:hover {
        cursor: pointer;
    }
}

.panel-tabs {
    a.is-active {
        border-bottom-color: var(--link-active);
    }
}

.help-label {
    color: var(--grey) !important;
    //display: block !important;
    font-size: $size-small !important;
    margin-top: 0.25rem !important;
}
.help {
    color: var(--grey-light) !important;
}
.is-hint {
    color: var(--is-hint) !important;
}
.is-hint-2 {
    color: var(--is-hint2) !important;
}
.is-link2 {
    color: var(--white) !important;
    background-color: var(--link2) !important;
    &.is-light {
        color: var(--link2) !important;
        background-color: initial !important;
    }
}
a.is-link {;
    color: var(--link2) !important;
}
.link-like {
    &:hover {
        color: var(--link);
        cursor: pointer !important;
        text-decoration: underline;
    }
}
.is-grey {
    color: var(--grey) !important;
}
.is-grey-light {
    color: var(--grey-light2) !important;
}
.is-discrete {
    color: var(--is-discrete) !important;
}
.is-discrete-2 {
    color: var(--is-highlight) !important;
    font-weight: 600;
    &:hover {
        color: var(--link2) !important;
    }
}
.is-highlight {
    color: var(--is-highlight) !important;
}
.is-highlight-2 {
    color: var(--is-highlight2) !important;
}
.has-text-turquoise {
    color: var(--turquoise) !important;
}
.has-links-discrete {
    a {
        color: var(--link-discrete);
    }
}
.has-text-announce {
    color: var(--is-announce);
}
.has-text-text {
    color: var(--text);
}
.has-background-announce {
    background-color: var(--is-announce);
}
.is-name{
    color: var(--text-strong);
}
.is-username {
    color: var(--text-light2);
    font-size: $size-7;
}
a.is-name:hover, a.is-username:hover,
a:hover .is-name, a:hover .is-username {
    color: var(--is-highlight);
}
.has-background-evidence {
    background-color: var(--background-evidence) !important;
}
.has-background-border {
    background-color: var(--border-color) !important;
}
.has-background-border-light {
    background-color: var(--border-color-light) !important;
}
.has-background-tag {
    background-color: var(--tag-hint) !important;
}
.has-background-author {
    background-color: var(--tag-author) !important;
}
.has-background-counter {
    background-color: var(--tag-counter) !important;
}
.has-background-header {
    background-color: var(--hbc);
}
.has-background-navbar {
    background-color: var(--nbc) !important;
}
.has-background-turquoise {
    background-color: var(--turquoise) !important;
}
.has-background-grey-light2 {
    background-color: var(--grey-light2) !important;
}
.input.has-background-grey {
    background-color: var(--grey-light2) !important;
}
.has-border {
    border: 1px solid var(--grey);
}
.has-border-link {
    border: 1px solid var(--link) !important;
}
.has-border-light {
    border: 1px solid var(--border-color-light);
}
.has-border-light2 {
    border: 1px solid var(--grey-lighter);
}
.has-border-color {
    border-color: var(--border-color) !important;
}
.has-border-color-light {
    border-color: var(--border-color-light) !important;
}
.is-dashed {
    border-style: dashed;
}
.is-md {
    font-size: 0.9rem !important;
}
.is-transparent {
    opacity: 0;
    z-index: -1;
}
.do-clear {
    animation: fadeOut 0.5s;
}
.discrete-link {
    color: inherit;
    &:visited {
        color: inherit;
    }
    &:hover {
        color: var(--link) !important;
    }
}

.stealth-link {
    text-decoration: none !important;
    color: var(--text) !important;
}
.underlined-link {
    &:hover {
        text-decoration: underline !important;
    }
}

.is-flex-inline {
	display: inline-flex !important;
}
.is-flex-grow {
	flex-grow: 1 !important;
}
.is-fixed {
    position: fixed !important;
}

.is-aligned-center {
    text-align: center !important;
}
.is-aligned-left {
    text-align: left !important;
}
.is-aligned-right {
    text-align: right !important;
}

.is-pushed-right {
    // Should be combined with a is-flex container and potentially is-align-self-flex-start
    // is-pulled-right instead which produce overlaping effect whene screen is narrow.
    margin: auto 0 auto auto;
}

.is-underline {
    border-bottom: 1px ridge;
    //text-decoration: underline;
}

.is-underline-dotted {
    border-bottom: 1px dotted;
}

.is-crossed {
    text-decoration: line-through;
}

.is-strong {
    font-weight: bold;
}
strong {
    color: var(--text-light);
}
.is-thin {
    font-weight: 300;
}

.is-text-aligned {
    vertical-align: baseline;
    .button {
        vertical-align: baseline;
    }
}

.is-item-aligned {
    vertical-align: middle;
    display: inline-block;
    .button, span, svg {
        vertical-align: middle;
        display: inline-block;
    }
}

.is-icon-aligned {
    i {
        display: inline-block;
        vertical-align: sub;
    }
}

.button.is-selected {
    outline: 4px solid $grey;
    outline-style: outset;
    outline-offset: 3px;
}

.button:hover {
    &.is-danger {
        background-color: var(--danger-hover);
    }
}

.button.is-multiline {
    white-space: unset; //@debug: or normal ?
    height: auto;
    //flex-direction: column;
}

.breakable {
    height: 100%;
    white-space: normal;
}

.card.is-selected {
    border: 3px solid var(--blue);
    box-shadow: 0px 2px 3px 0px var(--blue-grey);
}

.card.is-h:hover:not(.is-selected) {
    border: 1px solid var(--blue);
    box-shadow: 0px 2px 3px 0px var(--blue-grey);
}

.icon {
    color: inherit !important;
}

.icon-padding-left {
    padding-left: 8px !important;
}


.icon-padding-right {
    padding-right: 8px;
}

.has-text-weight-light {
    // @debug: doesn't work in chrome !
    // https://stackoverflow.com/questions/22001035/font-weight-ignored-in-chrome
    // https://stackoverflow.com/questions/9328832/how-to-apply-specific-css-rules-to-chrome-only
    font-weight: 300 !important;
    &:not(*:root) {
        filter: brightness(80%) !important;
    }
    a {
        font-weight: 300;
        filter: brightness(80%);
    }
    a:hover {
        font-weight: 300;
        filter: brightness(100%);
    }
}

.is-smaller {
    font-size: 88% !important;
}
.is-smaller2 {
    font-size: 80% !important;
}
.is-tiny {
    font-size: 65% !important;
}
.is-larger {
    font-size: 120% !important;
}
.is-larger2 {
    font-size: 150% !important;
}
.is-larger3 {
    font-size: 200% !important;
}
.is-larger4 {
    font-size: 300% !important;
}
.is-bigger {
    transform: scale(1.2);
}

.is-selectable {
  -webkit-touch-callout: text;
  -webkit-user-select: text;
  -moz-user-select: text;
  -ms-user-select: text;
  user-select: text;
}

.tooltip.has-tooltip-multiline::before {
  white-space: pre-line !important;
}

[data-tooltip] {
    @include mobile {
        // Prevent navbartop overflow
         &::after,&::before {
            width:0 !important;
            visibility: hidden !important;
        }
    }

    //border-bottom-style: none !important; // NO, will remove border on non span tooltip

    // solve the markown tooltip **tabs**
    &.is-right::before {
        left: auto !important;
        right: 0 !important;
    }
    // solve the modal tabs header tooltip (and partially the board status tooltip)
    &.is-left::before {
        right: auto !important;
        left: 100% !important;
    }
}
span[data-tooltip] {
    border-bottom-style: none !important;
}
.tooltip {
    // Tooltip has fadin, and no fadout
    transition: none !important;
    transition-delay: none !important;
    font-weight: 500;

    &.has-tooltip-active,
    &:focus,
    &:hover {
        &::after,
        &::before {
            transition: all .15s linear !important;
            transition-delay: var(--tooltip-transition-duration) !important;
        }
    }
}

.badge {
    right: 6px;
    top: 6px;
    //
    height: 8px;
    border-radius: 8px;
    min-width: 8px;
    box-shadow: none;
}

.arrow {
	border: solid;
	border-width: 0 3px 3px 0;
	display: inline-block;
	padding: 3px;
	&.right {
		-webkit-transform: rotate(-45deg);
		transform: rotate(-45deg);
	}
	&.left {
		-webkit-transform: rotate(135deg);
		transform: rotate(135deg);
	}
	&.up {
		-webkit-transform: rotate(-135deg);
		transform: rotate(-135deg);
	}
	&.down {
		-webkit-transform: rotate(45deg);
		transform: rotate(45deg);
		margin-bottom: 2px;
	}
}


.media.is-small {
    font-size: 0.9rem !important;
}

.dropdown-menu {
    min-width: 7rem !important;
    width: max-content;
    max-width: 330px;
}

.dropdown-menu.is-right {
	left: auto;
	right: 0;
}

.dropdown-content {
    max-height: 400px;
    overflow: auto;
}

// Dropleft components
.right-hoverable {
    &.button-light:active {
       filter:none !important;
    }

    .dropdown-content {
        min-width: 7rem !important;
    }
}
.right-hoverable:hover > .dropdown-menu {
    display: block;
}
.right-hoverable > .dropdown-menu {
    //margin-left: 100%;
    top: -10px;
    left: 100%;
    .dropdown-item:active {
        -webkit-filter: invert(10%);
        filter: invert(10%);
    }
}
.right-hoverable *:nth-child(1):hover + .dropdown-menu {
    .dropdown-item:first-child {
        background-color: var(--dropdown-item-hover-background-color);
    }
}
.right-hoverable *:nth-child(1):active + .dropdown-menu {
    .dropdown-item:first-child {
        -webkit-filter: invert(10%);
        filter: invert(10%);
    }
}

.tabs, .tabs.is-boxed  {
    a {
        text-decoration: none !important;
    }
    ul {
        border-bottom-color: var(--border-color-light) !important;
    }
    li.is-active a {
        border-color: var(--border-color-light);
    }
    li:not(.is-active) a:hover {
        background-color: inherit;
        border-bottom-color: initial !important;
    }
}

.tabs.is-boxed {
    a {
        border-radius: 8px 8px 0 0 !important;
    }
}

.tabs:not(.is-boxed) {
    li a {
        border-bottom-color: transparent !important;
        border-bottom-width: 1px !important;
    }
    li.is-active a {
        //font-weight: 600 !important;
        border-bottom-color: var(--link) !important;
        border-bottom-width: 1px !important;
    }
}

.no-overflow {
    overflow: hidden !important;
}

.box {
    border: 1px solid var(--border-color-light) !important;
    //box-shadow: 0 .33em .66em -0.125em rgba($scheme-invert, 0.1), 0 0px 0 1px rgba($scheme-invert, 0.02);
    box-shadow: none;
    .media {
        &.is-active {
            border: solid 2px var(--link) !important;
        }

        & + .media {
            border-top: 1px solid var(--border-color-light) !important;
        }
    }

    &.is-shrinked {
        padding: 0;
        .media {
            margin: 0;
            padding: 0.7rem 0.9rem;
        }
    }

    &.is-shrinked2 {
        padding: 0;
        .media {
            margin: 0;
            padding: 0.4rem 0.7rem;
        }
    }

    &.has-background-light {
        label {color: var(--grey);}
        color: black;
    }
    &.has-background-danger {
        color: white;
    }

    &.is-warning {
        background: var(--orange);
    }
}

.bulma-issue-33 { // found in the archived repo bulma-tooltip of wikiki
    @include desktop {
        &:hover {
            overflow: visible !important;
        }
    }
}

.scrollbar-thin {
    // @debug see : https://bugzilla.mozilla.org/show_bug.cgi?id=1460109
    scrollbar-width: thin;
    scrollbar-color: grey var(--bbc);
    //scrollbar-color: var(--grey-darker) var(--background-evidence) ;
    &::-webkit-scrollbar {
        width: 6px;
        color: grey;
        //background: var(--grey-dark);
    }
    &::-webkit-scrollbar-thumb {
        border-radius: 20px;
        background: grey;
    }
}

.menu .menu-label {
    font-weight: bold !important;
}

// Message
.message {
    background-color: var(--bbc);
    .message-header {
        color: var(--text-light) !important;
        background-color: var(--comment-header-background-color);
        &.is-author {
            background-color: var(--tag-author) !important;
        }
    }

    .message-body {
        overflow-wrap: break-word;
    }
}
.acc {
    .message-header {
        color: var(--text) !important;
    }
}
.message:not(.acc) {
    border: 1px solid  var(--border-color-light)  !important;
    border-radius: 6px !important;
    .message-header {
        border-radius: 6px 6px 0 0 !important;
    }
}

// Table

.table-container {
    overflow-x: auto;
    overflow-y: inherit;
    @include desktop {
        overflow: visible !important;
    }
}

.table, table.table {
    //border: 1px solid var(--table-border-color);
    //border-radius: 6px !important;
    border-collapse: separate;

    thead tr { background-color: var(--table-background-color); }
    thead th {
        font-weight: 600;
        font-size: 90% !important;
        color: var(--is-discrete);
        background-color: var(--table-head-background-color);
    }


	td:first-child, th:first-child {
		//border-left: medium none;
		border-left: 1px solid var(--table-border-color);
	}
	td:last-child, th:last-child {
		border-right: 1px solid var(--table-border-color);
	}
	td, th {
		padding-top: 0.75rem !important;
		padding-bottom: 0.75rem;
        border-bottom: 1px solid var(--table-border-color) !important;
	}

    thead tr:first-child {
        th {
            border-top: 1px solid var(--table-border-color);
        }
        th:first-child {
            border-radius: 6px 0 0 0;
        }
        th:last-child {
            border-radius: 0 6px 0 0;
        }
    }
    tbody tr:last-child {
        td:first-child {
            border-radius: 0 0 0 6px;
        }
        td:last-child {
            border-radius: 0 0 6px 0;
        }
    }

    // Fix border in case there is no thead
    thead tr:last-child th {
        border-bottom: none !important;
    }
    tbody tr:first-child td {
        border-top: 1px solid var(--table-border-color) !important;
    }
}

// Card

.card {
  border-radius: 6px;
  //border:1px solid var(--border-color-light) !important;
}

// Breadcumb
.breadcrumb {
    a:hover {
        color: var(--link-hover);
    }
}

// @debug: hover is not computed from variable defined here...
.is-primary {
    &:not(.hero):hover {
        background-color: darken($primary, 5) !important;
    }
}

.is-center {
    // Dropdown menu centering
    left: 50% !important;
    right: auto !important;
    -webkit-transform: translate(-50%, 0) !important;
    transform: translate(-50%, 0) !important;
}

// Notification
.notification {
    & > a {
        color: var(--link) !important;
        text-decoration: none !important;
    }
}

.f6-notification {
    position: fixed;
    top: calc(#{$navbar-height} + 0.5em);
    left: 50%;
    -webkit-transform: translateX(-50%);
    transform: translateX(-50%);
    max-width: 50%;
    min-width: 250px;
    & > div {
        // do not hide delete button when there is overflow.
        max-height: 200px;
        overflow: scroll;
    }
}


.ml--1 {
    margin-left: -6px;
}

.margin-left-25 {
    margin-left: 25%;
}
.margin-left-50 {
    margin-left: 50%;
}
.margin-left-auto {
    margin-left: auto;
}

.is-fullvh-desktop {
    @include desktop {
        min-height: 100vh;
    }
}

figure {
    border-radius: 10px;
    img, iframe {
        border-radius: 10px;
    }
}
figcaption {
    //class "p-3 is-italic is-aligned-center"
    text-align: center;
    font-style: italic;
    padding: 0.75rem;
}

.shadow {
    -moz-box-shadow:    2px 2px 5px 5px lighten($primary, 5);
    -webkit-box-shadow: 2px 2px 5px 5px lighten($primary, 5);
    box-shadow:         2px 2px 5px 5px lighten($primary, 5);
}

.is-rounded-light {
    border-radius: 6px !important;
}

.is-absolute {
    position: absolute !important;
}

// END FIX BULMA

/*
 *
 * My style
 *
 */

#navbarTop {
    .navbar {
        //box-shadow: 0 1px 0 0 var(--background-evidence);
        height: $navbar-height;
    }

    // @deprecated ?
    //.navbar-item {
    //    .navbar-link:hover, .navbar-link.is-active {
    //        // @debug: There is an background overflow on hover, bulma padding things... :/
    //        background: none !important;
    //    }
    //}

    // Fix right navbar top on touch
    .navbar-touch-end {
        display: none;
        @include touch {
            display: flex;
            position: relative;
            margin-left: auto;
            height: $navbar-height;
            & > * {
                height: $navbar-height;
            }
        }
    }
    .navbar-burger {
        @include touch {
            margin-left: 0;
        }
    }

    .navbar-item {
        font-size: 0.9rem !important;
    }
    .navbar-item, .navbar-link {
        color: var(--white-ter);
        & > * {
            color: var(--white-ter);
        }
        &:hover, &.is-active, &:not(.notMe) *:hover {
            &:not(.notMe), & > i {
                color: var(--link2);
            }
        }
        @include mobile {
            & > .button {
                margin-left: -10px;
            }
        }
    }

    .navbar-brand a {
        padding-bottom: 0 !important;
    }

    .navbar-link:not(.is-arrowless) {
        &:after {
            font-size: 12px !important;
        }
    }

    .navbar-dropdown {
        border-bottom: solid 1px var(--grey-darker);
        border-left: solid 1px var(--grey-darker);
        border-right: solid 1px var(--grey-darker);
        .navbar-item:hover { // @bulma bad!
            background-color: var(--navbar-item-hover-background-color);
            cursor: pointer;
        }
        .navbar-divider {
            margin:0;
        }
    }
}

#footBar {
    z-index: 0;
    position: relative;
    //position: absolute;
    box-shadow: 0 0 1px 0 var(--is-highlight);
    margin-top: 3rem;
    padding: 2rem 1.5rem 2rem;

    opacity: 0;
    animation: fadeIn 0.5s;
    animation-delay: 0.5s;
    animation-fill-mode: forwards;

    .contacts {
        span {
            font-size: $size-small;
            a {
                padding-left: 1rem;
                color: var(--link2);
                &:hover {
                    text-decoration: underline;
                }
            }
        }
    }
}

#helperBar {
    background-color: var(--header-background-color) !important;
    margin-top: 0;
    padding-top: 2rem;

    .breadcrumb {
        font-size: 1.15rem;
        a {
            padding-right:0.4rem;
            padding-left:0.4rem;
        }
    }

    nav.level {
        .navbar-menu {
            background-color: inherit !important;
        }
    }

    nav.tabs {
        font-size: 0.9rem;
        ul {
            border-bottom-color: var(--border-color-light) !important;
        }
        li.is-active a {
            border-color: var(--border-color-light);
        }
    }

    @include touch {
        nav.tabs {
            padding-right: 0.75rem;
            padding-left: 0.75rem;
        }
    }

    .level-left {
        // level-right is hidden
        max-width: 100%;
        @include desktop {
            // prevent user roles overflow
            max-width: 75%;
        }
    }

    .tag.is-h:hover {
        background-color: var(--background-evidence);
    }
}

#mainPane {
    // Prevent NavbarTop overflow
    & > .columns:not(#overview) { // mt-3
        margin: 0.75rem 0 0 0;
    }
}

.top-section {
    margin: 3rem 0 0;
    padding: 0 10px 0;

    // Prevent NavbarTop overflow
    & > .columns, &.columns {
        margin-left: 0;
        margin-right: 0;
        & > .column {
            padding-left: 0;
            padding-right: 0;
        }
    }
}

.dub-top-section {
    margin-left: -10px;
    padding-left: 10px;
    margin-right: -10px;
    padding-right: 10px;
}

#welcome {
        //margin-top: 5rem;
    @include fullhd {
        .logo svg {
            width: 550px;
        }
    }
    @include widescreen-only {
        .logo svg {
            width: 450px !important;
        }
    }
    @include desktop-only {
        .logo svg {
            margin-top: 50px;
            width: 350px !important;
        }
    }
    @include touch {
        .logo svg {
            width: 350px !important;
        }
    }
    @include mobile {
        .hero-body {
            padding-left: 5px;
            padding-right: 5px;
            .title {
                font-size: 2rem;
            }
            .content {
                font-size: 100% !important;
            }
        }
    }

    .custom-b-1 {
        padding-bottom: 2rem;
        @include fullhd {
            padding-bottom: 4.5rem;
        }
    }

    // Sections
    scroll-behavior: smooth;

    // Padding bewteen fullheight screen (100vh)
    #welcome-2 > div > div {
        padding-top: 4rem;
        padding-bottom: 4rem;
        @include desktop {
            & figure:first-child {
                margin-top: 4rem;
            }
        }
    }
    // remove margin above the footer
    & > div:last-child {
        margin-bottom: calc(-#{$navbar-height} - 0.5rem ) !important; // why - 0.5 ? mystery
    }

    .top-title {
        font-size: 4rem !important;
        font-weight: 800 !important;
        margin-bottom: 3rem !important;
        line-height: 1.1 !important;
        @include touch {
            font-size: 3rem !important;
        }
        @include mobile {
            font-size: 2.4rem !important;
        }
    }
    .card h2 {
        font-size: 1.6rem !important;
        @include mobile {
            font-size: 1.3rem !important;
        }
    }

}

.is-primary-2 {
    background-color: darken($primary, 10);
}

.is-info-2 {
    background-color: darken($info, 40);
}

.is-invisible-force {
    visibility: hidden !important;
    height: 0 !important;
    width: 0 !important;
    margin: 0 !important;
    padding: 0 !important;
}

#loginForm, #signupForm {
    @include desktop {
        min-width: 400px;
    }
    @include mobile {
       margin-top: 10px;
    }
}

#createOrga {
    h1.title {
        margin-bottom: 3rem !important;
    }
}

.nodesList {
    hr {
        margin-top: 0.5rem !important;
    }
    #icons {
        margin-bottom: 0.5rem !important;
    }
}

.logo-f6 {
    fill: white;
}
#footBar {
    .logo-f6 {
        fill: var(--logo-footer-color) !important;
    }
}
#authModal {
    .logo-f6 {
       fill: var(--logo-modal-color) !important;
    }
}
#welcome {
    .logo-f6 {
        fill: #375a7f !important;
    }
}

//
// Fixed Pos Menu
//

#orga-menu {
  z-index: 11;
  //position: sticky;
  position: fixed;
  height: 100%;
  width: $orga-menu-width;
  top: calc(#{$navbar-height});
  left: 0;
  transition: width .2s ease;
  background-color: var(--orga-menu-background-color);
  box-shadow: inset -1px 0 0 var(--border-color-light);

  overflow-x: hidden;
  overflow-y: auto;
  scrollbar-width: none; /* for Firefox */
  &::-webkit-scrollbar {
      display: none; /* for Chrome, Safari, and Opera */
  }

  // Copy from mattermost ?
  display: flex;
  justify-content: space-around;
  //align-items: center;
  //flex: 1 1 auto;


  &.off {
      width: 0 !important;
  }
}

.orgaMenu {
    margin-top: $size-small !important;
    margin-left: 3px;
    margin-right: 6px;
    padding-left: 5px;
    padding-right: 5px;
    border-left: solid 4px var(--header-background-color);
    transition: top,height .2s ease;

    &:hover {
        border-left: solid 4px white;
    }

    &.is-active {
        border-left: solid 4px var(--link);
    }

    & > .here {
        //display: flex;
        position: fixed !important;
        margin-left: 3.5rem !important;
        padding: 10px !important;
        z-index: 100;
    }
}

#tree-menu {
    z-index: 10;
    position: fixed;
    height: 100%;
    width: $tree-menu-width;
    top: calc(#{$navbar-height});
    left: 0;
    transition: width .2s ease;
    background-color: var(--tree-menu-background-color);
    box-shadow: inset -1px 0 0 var(--border-color-light);

    overflow-x: hidden;
    overflow-y: auto;
    scrollbar-width: none; /* for Firefox */
    &::-webkit-scrollbar {
        display: none; /* for Chrome, Safari, and Opera */
    }

    &.off {
        width: 0 !important;
    }

    padding-top: 25px;
    // First level child
    & .menu > .menu-list > li > ul,
    & .menu > .menu-list > ul {
        margin-left: 0.5em;
        border-left: none;
    }
    & .menu-list {
        font-size: 0.95em;
        border-left: 1px solid var(--bbc);
        & li ul {
            //padding: 0.5em 0 0.5em 0.25em ;
            padding: 0 0 0 0em;
            margin: 0;
            margin-left: 1em;
            a {
                padding-left: 1em !important;
                padding-top: 5px !important;
                padding-bottom: 5px !important;
            }
        }

        &.is-boxed, > .is-boxed {
            li:not(:first-child) {
                font-size: 0.95em;
                padding-left: 0.5em;
                margin-right: 0.75em;
                border-right: 1px solid var(--border-color);
            }
        }
    }

    .bottom-button {
        width: $tree-menu-width;
        height: 35px;
        position: fixed;
        bottom: 1px;
        background-color: var(--tree-menu-background-color);
    }
}

.treeMenu {
    padding: .6em .5em !important;
    transition: top,height .2s ease;

    &.pt-0 {
        padding-top: 0.25em !important;
    }

    &.is-active {
        background-color: var(--bbc) !important;
    }

    .here {
        height: 1em; // prevent the tag. to increase the line height when hovering
        &:hover > .tag {
            color: var(--link) !important;
        }
    }
}

#tree-selector {

    li, li a {
        font-size: var(--small-font-size);
    }

    //Common with #tree-menu
    // --

    width: $tree-menu-width;
    //background-color: var(--tree-menu-background-color);
    //box-shadow: inset -1px 0 0 var(--border-color-light);

    overflow-x: hidden;
    overflow-y: auto;

    // First level child
    &.menu > .menu-list > li > ul,
    &.menu > .menu-list > ul {
        margin-left: 0.5em;
        border-left: none;
    }
    & .menu-list {
        font-size: 0.95em;
        border-left: 1px solid var(--bbc);
        & li ul {
            //padding: 0.5em 0 0.5em 0.25em ;
            padding: 0 0 0 0em;
            margin: 0;
            margin-left: 1em;
            a {
                padding-left: 1em !important;
                padding-top: 5px !important;
                padding-bottom: 5px !important;
            }
        }

        a.is-active:hover {
            cursor: default;
        }

    }
}

#target-menu .dropdown-content {
    width: calc(#{$tree-menu-width} + 15px);
}

.hinter {
  z-index: 10;
  position: fixed;
  height: 100%;
  width: 0;
  top: calc(#{$navbar-height});
  left: 0;
  transition: width .2s ease;
  background-color: var(--tree-menu-background-color);
  box-shadow: inset -1px 0 0 var(--border-color-light);
  &:hover::after {
      position: relative;
      top: 40%;
      content: "\00BB";
      font-weight: 700;
      font-size: 1.4rem;
      padding-left: 4px;
  }
}

#tree-hinter {
  z-index: 5;
  position: fixed;
  height: 100%;
  width: 20px;
  top: calc(#{$navbar-height});
  left: 0;
  &:hover > .hinter {
      width: 25px;
      cursor: pointer;
  }
}

// Right side menu
.side-menu-background {
  z-index: 10;
  //position: sticky;
  position: fixed;
  height: calc(100% - #{$navbar-height});
  left: 0;
  width: 100%;
  top: calc(#{$navbar-height});
  opacity: 0.5;
  background-color: var(--modal-background-background-color);
}
.side-menu {
  z-index: 11;
  //position: sticky;
  position: fixed;
  height: calc(100% - #{$navbar-height});

  top: calc(#{$navbar-height});
  right: 0;
  transition: all .2s ease;
  background-color: var(--orga-menu-background-color);
  box-shadow: inset 0 0 1px var(--border-color-light);
  border-left: 1px solid var(--bbc);

  overflow-x: hidden;
  overflow-y: auto;
  scrollbar-width: none; /* for Firefox */
  &::-webkit-scrollbar {
      display: none; /* for Chrome, Safari, and Opera */
  }

  // Copy from mattermost ?
  display: flex;
  justify-content: space-around;
  //align-items: center;
  //flex: 1 1 auto;

  &.off {
      width: 0 !important;
      min-width: 0 !important;
  }

  & > .panel {
      margin: 0;
      width: 100%;
      display: flex;
      flex-direction: column;
      flex-wrap: nowrap;
  }

  .header-block {
      flex-shrink: 0;
  }
  .main-block {
      flex-grow: 1;
      overflow-y: auto;
      min-height: 2em;

  }
  .footer-block {
      flex-shrink: 0;
  }
}

.side-menu.is-medium {
  @include tablet {
      width: 75%;
      min-width: 600px;
      max-width: 1000px;
  }
  @include mobile {
      width: 100%;
  }
}

.side-menu.is-large {
  @include tablet {
      width: 82%;
      min-width: 600px;
      max-width: 1300px;
  }
  @include mobile {
      width: 100%;
  }
}

#menuSettings {
  border-right: solid 1px var(--border-color-light) !important;
  margin-right: 2rem;
  .menu-list {
      li {
          padding-bottom: $size-small;
      }
      a.is-active {
          font-weight: 600;
      }
  }
}

.list-settings {
    .menu-list {
        font-size: 0.85rem;
        li {
            padding-bottom: 0.25rem;
        }
      a.is-active {
          font-weight: 600;
      }
    }
}

//
// Overview and Doc
//

#overview {
    margin-top: 0.1rem;
    & > .column {
        margin-top: 0;
        padding-top: 0;
         & > * {
             margin-top: 21px;
             margin-bottom: 21px;
         }
    }

    @include desktop-only {
        margin-left: 4.16% !important;
        margin-right: 4.16% !important;
    }
    @include widescreen-only {
        margin-left: 4.16% !important;
        margin-right: 4.16% !important;
    }
}

.buttonRole {
    height: 2.4em;
    font-weight: 500;
    border-radius: 10px !important;
    &.is-orange {
        background-color: var(--orange-frac6) !important;
        color: var(--white) !important;
        .is-king, .is-queen {
            color: var(--white) !important;
        }
    }
    // Border transparency get overwirtten somewhere.
    border: 1px solid transparent !important;
    &:hover {
        background-color: var(--hover-color) !important;
        //filter: brightness(1.2);
    }
}

.docToolbar {
    .button {
        background-color: var(--background-evidence) !important;
        &.is-active {
            color: var(--link) !important;
            border: 1px solid var(--link);
        }
    }
}

.doc-container {
    .subtitle {
        color: var(--text-light);
        font-weight: 600;
        font-size: 1.25rem;
    }

    .level {
        margin-bottom: 1rem;
    }

    .is-small .docToolbar {
        .button {
            font-size: 0.6rem !important;
        }
    }

    & > a, & > div > a, .content a {
        color: var(--blue);
    }
}

.aboutDoc {
    .subtitle {
        a:hover, a:hover .content {
            color: var(--link2) !important;
        }
    }
}

.subSection {
    //padding-right: 1.5rem;
    //padding-left: 1.5rem;
    .label {
        color: var(--is-highlight2);
        //border-bottom: 1px solid var(--border-color-light);
    }

    &:not(last-child) {
        margin-bottom: 1rem;
    }
}

//
// Tension/Blob Page
//

.tensionTitle > .is-human,
.tensionTitle.is-human {
    color: var(--text);
    font-size: 2rem !important;
    // Zen font
    //font-size: 2.5rem !important;
}

.tensionSubtitle {
    font-size: 14px !important;
    & > span:not(:last-child) {
        margin-right: 12px !important;
    }

    .tag {
        height: 1.7rem !important;
    }
}

.comments {
    .media + .media {
        margin-top: 1.5rem !important;
        border: 0 !important;
    }

    .message {
        border-radius: 8px !important;
        .message-header {
            //padding-top: 0.5rem;
            //padding-bottom: 0.5rem;
            border-radius: 8px 8px 0 0 !important;
            display: inherit !important;
            font-size: 14px !important;
            font-weight: 500 !important;
            border-bottom: solid 1px var(--border-color-light);
            a {
                text-decoration: none !important;
                font-weight: 600 !important;
                &:hover { text-decoration: underline !important; }
            }
            li a {
                font-weight: 500 !important;
            }

            .dropdown-trigger {
                padding-top: 3px;
            }

            .dropdown-menu {
                margin-top: -$size-small;
                margin-right: -$size-small !important;
            }

            .ellipsis {
                opacity: 0.75 !important;
                &:hover { opacity: 1 !important; }
            }
        }

        .message-body {
            padding: 1rem 0.9rem !important;
            font-size: 15px;
        }
    }
}

.commentInput {
    .message-header {
        border: 0 !important;
        padding: 0 0.75rem !important;
    }
    .message-body {
        padding: 0.75rem 0.75rem !important;
    }
    .textarea {
        resize: both;
    }
}

.commentHeader {
    width: 100%;
    .level-right {
        font-size: 15px;
        font-family: "Times New Roman", Times, serif !important;
        *:not(:last-child) {
            padding-left: 0.6rem;
            padding-right: 0.6rem;
            font-weight: 600;
            color: var(--is-discrete);
            &:hover {
                background: var(--background-evidence);
                color: var(--is-highlight);
            }
        }
        //div:last-child {
        //    margin-left: 0.5rem;
        //    padding-left: 0.75rem;
        //    display: flex;
        //    align-items: center;
        //}
    }
}

#cardPanel {
    border-left: 1px solid var(--hbc);
    .comments, .main-block, .header-block {
        background: var(--bbc);
    }

    .media {
        padding: 0 0rem !important;
    }

    .message-header {
        padding-top: 0.3rem;
        padding-bottom: 0.3rem;
        .dropdown-trigger {
            padding-top: 8px;
        }
    }

    .message-body {
    }

    // Ignore has-arrow-left
    .has-arrow-left:after, .has-arrow-left:before {
        display: none;
    }

}

.panel-background {
    opacity: 0.75;
}

.actionComment {
    margin-left: 1rem !important;
    @include tablet {
        margin-left: 5rem !important;
    }
    font-size: 14px !important;
}
#cardPanel {
    .actionComment {
        margin-left: 1rem !important;
    }
}

.tensionSidePane {
    //margin-top: 2.25rem !important;

    .media:first-child {
        border-top: 1px solid var(--border-color-light) !important;
        padding-top: 1rem !important;
    }

    .media {
        border-top: 1px solid var(--border-color-light) !important;
        margin: 0;
        padding-bottom: 2rem;
    }

    .media-content {
        font-size: 14px !important;
        .subtitle {
            font-size: 13px !important;
            font-weight: 600 !important;
            color: var(--is-discrete);
            margin-bottom: 1rem !important;
        }
    }

    .level {
        justify-content: start;
    }
    .level-left {
        font-size: 0.75rem;
        font-weight: bold;
        color: var(--is-hint);
        flex-basis: 33%;
        padding-right: var(--size-small);
    }
    .level-item {
        flex-grow: 0 !important;
        justify-content: left;
    }

    .level .help {
        margin-top: 0;
    }
}

.dropList {
    position: absolute;
    background: var(--background-evidence);
    border: 1px solid var(--grey-light);
    max-width: 450px;
    z-index: 25;
    @include tablet {
        min-width: 300px;
    }
    @include touch {
        min-width: 200px;
    }

    .control {
        .icon { color: var(--grey) !important; }
    }

    &.is-right {
        left: auto;
        right: 0;
    }
}

.is-reversed > .dropList {
    bottom: 2rem;
}

.panel {
    .panel-heading {
        background-color: inherit;
        font-weight: 500;
    }

    .panel-block.is-top {
        border-bottom: 2px solid var(--border-color);
    }
    .panel-block.no-border {
        border-bottom: none;
    }
}

.selectors {
    max-height: 250px;
    overflow-y: auto;

    .panel-block, .panel-icon {
        &:hover:not(.is-static) {
            cursor: pointer !important;
            background: var(--hbc) !important;
        }
    }
    .panel-block {
        border-bottom-color: var(--border-color);
        &.is-active .panel-icon, &:hover .panel-icon {
            color: var(--link-active) !important;
        }
    }
    .panel-icon {
        font-size: 1.5rem;
    }
}

.searchInput {
    position: absolute;
    top: 0;
    left: 0;
}
.searchInput::after {
    content: " ";
    position: absolute;
    top: 100%;
    left: 50%;
}

#colorPicker {
    position: absolute;
    z-index: 25;
    background-color: var(--white-light);
    color: black;
    border-radius: 5px !important;
    border: 1px solid var(--grey-light);
    padding: 10px;

    .colorBoxes {
        width: 256px;
    }

    @include mobile { // is-right
        left: auto;
        right: 0;
    }

}
.buttonColor {
    width: 28px !important;
    height: 28px !important;
    border-radius: 6px !important;
    border-width: 0 !important;
    margin: 0px 8px 5px 0px;
    &:hover {cursor: pointer; }
}

.actionPanelStyle {
    .dropdown-content {
        position: absolute;
        z-index: 25;
        overflow: unset;
        min-width: 12rem;
        max-height: none;
        width: auto;
        height: auto;
        &.is-right {
            left: auto;
            right: 0;
        }
    }

    .dropdown-item {
        //font-size: 12px;
        padding-top: 5px;
        padding-bottom: 5px;
    }
}

.tagsinput {
    display: inline-flex;

    .box {
        border: none !important;
    }

    .tag {
        height: 2.2em;
        font-size: 0.9rem;
        color: var(--grey-darker);
        background-color: var(--white-ter);
        &.is-delete {
            &:hover {
                cursor: pointer;
                color: var(--red);
                background-color: var(--white-ter);
            }
        }
    }

    &.singleSelection {
        position: absolute;
        top: 4px;
        left: 11px;
        z-index: 80;
    }
}

//
// Tensions
//

#tensionsTab  {
    .tooltip {
        &::before,
        &::after {
            font-size: $size-7 !important;
        }
    }

    .t-o{
        font-size: 1rem !important;
    }
}

#journalTab {
   .content {
       padding: 10px;
       margin-bottom: 10px;
   }

    .content + .content {
        border-top: 1px var(--border-color-light) solid;
    }
}

.mediaBox {
    cursor: initial;
    &.is-hoverable:hover {
        background-color: var(--mediaBox-item-hover-background);
    }

    &.is-active {
        border: solid 2px var(--link) !important;
    }

    .media-content {
        overflow: unset;

        // Improve UX when hovering content
        .content  {
            & > a { // space between title and labels
                margin-right: $size-small !important;
            }
            a { // right icons
                &.is-size-7 {
                    //font-size: 0.88rem !important;
                }
                .box > &.is-size-6 { // tensions circle
                    font-size: 1rem !important;
                }
                &.is-size-5 {
                    //font-size: 1rem !important;
                }
                // Zen Font
                //&.is-size-7 {
                //    font-size: 1rem !important;
                //}
                //&.is-size-6 {
                //    font-size: 1.1rem !important;
                //}
                //&.is-size-5 {
                //    font-size: 1.3rem !important;
                //}
            }
        }
        .has-text-weight-light a:hover {
            color: var(--link) !important;
            font-weight: 500;
        }
    }
}

tr.mediaBox {
    line-height: 2.1rem;
}

.labelsList {
    .tag + .tag {
        margin-left: 8px !important;
    }

    .tag {
        border: 1px solid transparent;
        &:hover { border-color: var(--link2); }
    }
}
.tension-labelsList {
    margin-top: -8px;
    .labelsList .tag {
        margin-top: 8px;
        &:hover { border-color: transparent; }
    }
    .help {
        margin-top: 22px !important;
    }
}

.usersList {
    //line-height: 2.5;
    span  {
        margin-right: 5px !important;
        margin-bottom: 5px !important; // doesn't work
    }
}

.marginTensionStatus {
    margin-left: -24px;
    padding-right: 5px;
}

.icons-list {
    .level-item:not(:last-child) {
        margin-right: $size-small !important;
    }
}

.tensionButton {
    position: fixed;
    // https://benfrain.com/easy-css-fix-fixed-positioning-android-2-2-2-3/
    -webkit-backface-visibility: hidden;
    bottom: 0;
    right: 0;
    margin: 50px;
    z-index: 1;
    @include touch {
        margin: 15px;
    }
    @include desktop-only {
        margin: 40px;
    }
    @include widescreen-only {
        margin: 40px;
    }

    & > .button {
        height: 50px;
        width: 50px;
        border-radius: 25px;
        opacity: 0.9;
        &:hover {
            opacity: 1;
        }
    }
}

.pinnedTile {
    // horizontal padding
    & > .tile + .tile {
        padding-left: 0.5rem;
    }

    // vertical padding
    .tile.is-vertical > div + div {
        padding-top: 1.2rem;
    }

    .tile.is-vertical {
        //padding-bottom: 0;
    }
}


a.tag {
    text-decoration: none !important;
}
a.tag.has-border, a.tag.has-border-light, .tag-circle {
    &:hover {
        border-color: var(--link2);
    }
}

.tensionLight {
    font-size: var(--small-font-size);
}

//
// Members
//

#labelsTable {
    .tag { font-size: 85%;}
}

/*
 * Boards
 *
 */

.kb-board {
    & > .column {
        min-width: 250px;
        max-width: 400px;
        //width: 100% !important;

        @include mobile {
            padding: 1px;
        }

        // @DEBUG: 100% height overflow because the header height is ignored (not responsive)...
        & > .content {
            height: 95%;
            overflow-y: auto;
            overflow-x: hidden;

            .box:first-child {
                margin-top: 7px;
            }
        }
    }
}

.kb-board.board1 {
    .column .subtitle {
        //border-bottom: 1px solid var(--border-color-light);
        //padding-top: 0.75rem;
        padding-bottom: 0.5rem;
        margin: 0;
    }
}

.kb-board.board2 {
    .kb-card {
        & *:hover {
            cursor: grab;
        }
    }

    .column .subtitle {
        border-top: 1px solid var(--border-color-light);
        padding-top: 0.75rem;
        padding-bottom: 0.5rem;
        margin: 0;
    }
}


/*
 *
 * Graph Pack Canvas
 *
 */

#canvasParent {
    min-height: 400px;
}

#canvasOrga {
    border-radius: 7px 7px 7px 7px !important;
    //box-shadow: 0 0px 1px 1px #22101087;
    //background-image: linear-gradient(white, black) ;
}

#canvasLegend {
    position: absolute;
    //margin: 10px;
    //padding: 0.75rem !important;
    svg {
        margin-right: 4px;
    }
    z-index: 2;
}

#mdLegend {
    position: absolute;
    right: 0;
    top:40px;
    overflow: hidden;
    z-index: 2;
}

// Tooltip: http://www.cssarrowplease.com/
#nodeTooltip {
    position: absolute;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;

    // Content
    color: black;
    background-color: rgba($node-tooltip-background, 0.9);

    // Box style
    border: 1px solid black;
    border-style: solid;
    border-radius: 8px;

    // Tooltip style
    &::after,
    &::before {
        //font-family: "Font Awesome 5 Free";
        //content: "\f007";
        content: "";
        position: absolute;
        top: 100%; /* This will position the arrow at the bottom of the tooltip */
        left: 50%;
        pointer-events: none;
        border: solid transparent;
    }
    &::after {
        margin-left: -6px;
        border-width: 6px;
        border-top-color: $node-tooltip-background;
    }
    &::before {
        margin-left: -7px;
        border-width: 7px;
        border-top-color: black;
    }

    // -> on hover
    cursor: pointer;
    &:hover {
        box-shadow: 0 0 1px 2px --node-tooltip-shadow;
        background-color: $node-tooltip-background;
    }

    // Animate the tooltip
    &.fadeIn {
        visibility: inherit;
        background-color: rgba($node-tooltip-background, 0.9);
        transition: background-color 0.3s;
        opacity: 1;
        transition: opacity 0.3s;
        &:hover {
            background-color: $node-tooltip-background;
            transition: background-color 0s;
        }
    }

    &.fadeOut {
        visibility: hidden;
        opacity: 0;
    }

    .custom-style {
        margin-left: 5px !important;
        margin-right: 5px !important;
        color: var(--link2) !important;
        position: relative;
        top: 1px;
    }

    #doTension {
        padding-left: 8px;
    }

    #doAction > span > span > .button {
        // Vertical separator
        border-left-color: var(--grey) !important;
        border-left-width: 1px !important;
        border-left-style: solid;
        max-height: 1.5rem;
        border-radius: 0 8px 8px 0;
        padding: 0 6px 1px 6px;
        &:hover {
            background-color: darken($node-tooltip-background, 10) !important;
            border-radius: 0 8px 8px 0;
        }
    }
}

#welcomeButtons {
    position: absolute;
    flex-direction: column;

    .button {
        border-radius: 25px;
        min-width: 11.5rem;
    }
}

#canvasButtons {
    position: absolute;
    //display: flex;
    flex-direction: column;
    align-items: flex-end;

    .button {
        margin-right: 0;
        background: var(--border-color);
    }
}

//
// Modal (Form)
//

.tension-modal-dropdown {
    vertical-align: unset;

    //{dropdown-trigger -> button-light

    .dropdown-content {
        //max-height: 90vh !important;
    }
    .dropdown-menu {
        margin-top: 5px;
        padding-right: 30px;
        left: -60px;
		width: $modal-width !important;
        @include tablet {
            max-width: $modal-width !important;
        }
        @include mobile {
            max-width: 98vw;
        }
    }
    .dropdown-item:hover {
        background-color: initial !important;
    }

    .content {
        font-weight: 500;
    }
}

.modal:not(#authModal) {
    display: flex;
    visibility: hidden;
    cursor: initial; // when modal nested in a button for example (the case for Tooltip Action Panel)

    &.is-active {
        visibility: visible;
        z-index: 40; // default
        .modal-background {
            opacity: 1;
            transition: all $modal-in-duration;
        }
    }

    &.modal-fx {
        &-fadeIn {
            .modal-content {
                //transform: scale(0.7);
                opacity: 0;
                transition: all $modal-out-duration;
            }

            &.is-active .modal-content {
                //transform: scale(1);
                opacity: 1;
            }
        }

        &-slideTop {
            .modal-content {
                -webkit-transform: translateY(-50%);
                transform: translateY(-50%);
                opacity: 0;
                transition: all $modal-out-duration;
            }

            &.is-active .modal-content {
                -webkit-transform: translateY(0);
                transform: translateY(0);
                opacity: 1;
            }
        }
    }

    .modal-content, .modal-card {
        @include mobile {
            width: 98%;
            margin: 0 1%;
            max-height: calc(100vh - 20px);
        }
        @include tablet {
            min-width: $modal-width;
            .modal-card-body { padding: 20px 30px 20px 30px; }
        }

        @include tablet {
            &.is-huge {
                width: 100%;
                margin: 0px 20px;
                max-height: calc(100vh - 40px);
            }
        }
        &.is-small {
            max-width: 400px;
            min-width: 300px;
            .modal-card {
                max-width: 400px;
                min-width: 300px;
            }
        }
        &.is-huge {
            width: 100%;
            margin: 0px 20px;
            max-height: calc(100vh - 40px);
        }
        &.is-image {
            text-align: center;
            &.is-huge {
                width:auto;
            }

            img {
                max-height: calc(100vh - 50px);
            }
        }
    }

    // Positioning, center is default
    &.modal-pos {
        &-top {
            align-items: flex-start;
            .modal-content {
                margin-top: 1rem;
            }
        }
        &-bottom {
            align-items: flex-end;
            .modal-content {
                margin-bottom: 1rem;
            }
        }
    }

    .modal-background {
        opacity: 0;
        transition: all $modal-out-duration;
    }

    ////// @DEBUG: LIGHT colorscheme
    ////// do not work for li in dark mode...
    //.input,
    //.textarea {
    //    color: var(--dark) !important;
    //    background-color: var(--white-light) !important;
    //    &:focus {
    //        border-color: var(--link2) !important;
    //        background-color: var(--white-light) !important;
    //        &:hover {
    //            border-color: var(--link2) !important;
    //            background-color: var(--white-light) !important;
    //        }
    //    }
    //}
    //.input:not([type="search"]),
    //.textarea, li {
    //    border-color: var(--grey-light3);
    //    &:hover {
    //        border-color: var(--grey-light3);
    //    }
    //    &::placeholder {
    //        color: var(--grey) !important;
    //    }
    //}

    .card, .modal-card-body, {
        background-color: var(--white-light);
        color: #111;
    }
    .dropdown-content {
        background-color: var(--blue-light);
    }

    .field {
        .label {
            color: var(--grey);
        }
    }

    .box.is-light {
        background-color: #dce3e3;
        color: black;
    }

    .acc {
        .message-header {
            color: var(--grey-lightest) !important;
        }
    }

    .tabs, .tabs.is-boxed {
        margin-bottom: 0;
        ul {
            border-bottom: 0 !important;
        }
        li a {
            color: var(--blue-grey);
        }
        li a:hover {
            background-color: var(--blue-light);
            border-bottom-color: #ccc !important;
        }
        li.is-active a {
            background-color: var(--blue-light);
            border-top-color: var(--blue-grey);
            border-top-width: 3px;
            border-left: none;
            border-right: none;
            border-bottom-color: #ccc !important;
        }
        li:not(:last-child) a {
            border-right-color: #ccc;
        }
        li:not(.is-active) a:hover {
            border-bottom-color: var(--blue-light) !important;
        }

        &#tensionTabTop { // tensionModal
            min-height: 35px;
            background-color: var(--modal-header-background);
            border-bottom: solid 1px #ccc !important;
        }
    }
    .panel-heading {
        background-color: var(--modal-header-background);
    }
    .panel-block, .panel-icon {
        color: var(--text-light2);
    }

}

.breadcrumb.has-succeeds-separator {
    a, a:hover {
        color: var(--link-discrete);
        cursor: initial;
    }
    li.is-active a {
        color: var(--is-highlight2);
        font-weight: 600;
    }
}

.modal.fixed-top {
    @include desktop {
        .modal-content {
            position: absolute;
            top: 5%;
            overflow-x: hidden;
        }
    }

    .modal-card-body {
        overflow: auto !important;
        height: 10%;
        @include desktop {
            max-height: calc(76vh);
        }
    }
}

#tensionModal {
    .panel-heading {
        border-bottom: 1px var(--border-color-light) solid;
    }

    .modal-content, .modal-card {
        width: auto;
        .textarea {
            //width: $modal-width;
            resize: both;
        }
        .hidden-textarea {
            max-width: calc(#{$modal-width} - 80px);
            resize: both;
        }
    }
    // Don't let columns set their width automatically
    .modal-content .columns, .modal-card .columns {
        max-width: calc(#{$modal-width} - 40px);
    }

    // Input Message
    .modal-card-body {
        .message {
            border-color: transparent !important;
            background-color: inherit !important;
            .tabs, .tabs.is-boxed  {
                li a  {
                    color: var(--grey-light) !important;
                    text-decoration: none !important;
                }
                li a:hover{
                    background-color: inherit !important;
                }
                li.is-active a {
                    background-color: var(--bbc)  !important;
                    border-top-width: 2px !important;
                }
            }
        }
        .message-header {
            font-weight: 500 !important;
            padding: 0 !important;
            a {
                font-weight: 600 !important;
                text-decoration: none !important;
                &:hover { text-decoration: underline !important; }
            }
        }
        .message-body {
            padding: 0;
        }
    }
}

.urlForm {
    height: 1.8rem !important;
    .field .input, .field-label {
        font-size: 0.8rem !important;
        height: 1.8rem !important;
    }

    .field-body {
        div:nth-child(1) {
            background: var(--input-disabled-background-color2);
            padding: 0.35rem 1.25rem 0 1.25rem;
            font-size: 0.8rem;
            font-weight: 600;
        }
        .input:nth-child(2) {
            width: unset;
            padding-right: 5px !important;
            border-radius: unset !important;
            border: 1px solid var(--border-color);
        }
        .input:nth-child(3) {
            border-radius: unset !important;
        }
    }
}

.has-border-danger {
    border-color: var(--danger) !important;
    &:focus, &:focus:hover {
        border-color: var(--danger) !important;
    }
}

.select.is-orange, .select.is-orange::after,
.select.is-orange select,
.select.is-orange select:focus,
.select.is-orange select:active {
    border-color: var(--orange-frac6) !important;
}
.has-text-orange {
    color: var(--orange-frac6) !important;
}
.has-background-orange {
    background: var(--orange-frac6) !important;
}

i.is-liked {
   color: var(--orange-frac6);
}

#confirmModal {
    z-index: 60 !important;
    .modal-card-body {
        border-radius: 4px;
    }
}

.modal {
    *:not(.modal-card) > .modal-card-body {
        border-radius: 10px;
    }

    .modal-card-body {
        @include mobile {
            padding-left: 0.75rem;
            padding-right: 0.75rem;
            & > .section {
                padding-left: 0.75rem;
                padding-right: 0.75rem;
            }
        }
    }

    .modal-close {
        background-color: #952222b8 !important;
        &:hover { background-color: #952222 !important;}
    }

    //.modal-card-title, .panel-heading,
    //.modal-card-head,
    .modal-card-foot, {
        padding-top: 15px;
        padding-bottom: 15px;
        @include mobile {
            padding-top: 3px;
            padding-bottom: 3px;
        }
    }

}

#authModal {
    &.modal.is-active {
        z-index: 100 !important;
    }
    .modal-background {
        background-color: var(--grey-light);
    }

    justify-content: start;
    .modal-content {
        margin-top: 5rem;
    }
}

#helpModal {
    z-index: 50 !important;
    .modal-content, .modal-card {
        @media (min-width: $fullhd){
            height: 90%;
        }
        @media (min-width: $widescreen){
            height: 90%;
        }
        @media (min-width: $desktop){
            height: 94%;
        }
        @media (min-width: $modal-width-large) {
            height: 95% !important;
            min-width: $modal-width-large !important;
            .modal-card-body { padding: 30px; }
        }
    }

    .modal-card-head {
        display: block;
        padding: 10px 10px 0px 10px;
    }

    .modal-card-body {
        background-color: var(--white-light) !important;
    }

    .tabs  {
        li {
            a, span {
                color: var(--text-light);
                opacity: 0.6;
                align-items: center;
                display: flex;
                justify-content: center;
                padding: 0.2em 1em;
                cursor: pointer;
            }
            &.is-active {
                a, span {
                    color: var(--text);
                    opacity: 1;
                    border-bottom-color: orange !important;
                    border-bottom-style: solid;
                    border-bottom-width: 2px;
                    padding-bottom: 0.15em;
                    margin-bottom: -1px;
                }
            }

        }
    }
    &.columns {
        .tabs {
            margin-bottom: 1rem;
        }

    }
}

//
// Search Bar and QuickSearch
//

.searchBar {
    .input, .button, select {
        height: 2.2rem !important;
    }
}

#searchBarOverview {
    width: 100.25% !important;
    margin-bottom: 12px !important;

    #searchList {
        margin-top: -12px !important;
    }
    .searchBar > div:first-child {
        display: inline-flex;
        position: relative;
        vertical-align: top;
    }
    .controlButtons {
        //display: flex;
        //flex-grow: 1;
        //flex-direction: column;
        max-width: 55% !important;
        & > .button:first-child {
            padding-right: 0 !important;
        }

        //.button {
        //    border: 1px solid var(--grey-light);
        //    border-right: 0;
        //    &:last-child {
        //        border-right: 1px solid var(--grey);
        //    }
        //}
    }
    .custom-style {
        margin-left: 5px !important;
        margin-right: 8px !important;
        color: var(--link) !important;
    }
    #actionPanelContentSearchBar {
        margin-left: -1px;
    }
}

.filterBar.has-addons {
    .control {
        .button {
            border: 1px solid var(--border-color) !important;
            &:hover {
                background-color: var(--filter-hover-background) !important;
            }
        }

        &:first-child .button {
            border: 1px solid var(--border-color) !important;
            border-top-left-radius: 15px !important;
            border-bottom-left-radius: 15px !important;
        }
        &:not(:first-child):not(:last-child) .button {
            border-radius: 0px !important;
            border-radius: 0px !important;
        }
        &:last-child .button {
            border-top-right-radius: 15px !important;
            border-bottom-right-radius: 15px !important;
        }
    }

    @include mobile {
        display: contents;
    }
}

#searchList {
    //top: 100% !important;
    position: absolute !important;
    z-index: 20 !important;
    width: 99.9% !important;
    height: 412px;
    max-height: 400px !important;
    overflow-y: auto !important;

    .table, .table.is-fullwidth {
        //flex-grow: 1;
        //flex-shrink: 1;
        display: inline-table;
        background-color: #fffffdf6 !important;
        line-height: 1.4 !important;
        font-size: 0.775rem !important;

        .help {
            border-bottom: 1px solid #22222222;
        }
    }

    // @debug don't work !
    //tbody {
    //    max-height: 400px !important;
    //    overflow-y: auto !important;
    //}

    thead th,
    thead td {
        color: #acb6c1 !important;
        background-color: #eeeeedf2 !important;
    }
    tbody th,
    tbody td {
        border: 0 !important;
        padding-top: 0.4rem;
        padding-bottom: 0.4rem;
        color: #24292e !important;
    }

    a:hover,& a:focus,
    tr:hover,& tr:focus,
    span:hover,&  span:focus {
        background-color: #eee9d8 !important;
    }

     a.is-active,
     tr.is-active,
     span.is-active {
        background-color: #dfdfdf !important;
    }
}

/*
 *
 * Utils
 *
 */

@keyframes growBox {
    from { height: 0; }
    to { height: 4rem; }
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes fadeOut {
    from { opacity: 1; }
    to { opacity: 0; }
}

.is-w {
    &:hover {
        cursor: pointer;
        .is-h, &.is-h {
            color: var(--is-highlight) !important;
        }
        .bc, &.bc {
            background-color: var(--background-evidence);
            border-radius: 50px;
        }
        &.content, .content, &.content strong {
            color: var(--link) !important;
        }
    }
}

.is-h:hover {
    cursor: pointer !important;
}

.is-event-badge {
    color: var(--green);
    &.badge {
        background-color: var(--green);
    }
}
.is-event-badge-bg {
    .tag {
        background-color: var(--green) !important;
    }
}

.is-contract-badge {
    color: var(--orange);
    &.badge {
        background-color: var(--orange);
    }
}
.is-contract-badge-bg {
    .tag {
        color: $dark;
        background-color: var(--orange) !important;
    }
}

// @fix bulma
.is-active {
    .tag, [data-tooltip] {
        font-weight: 500;
    }
}

.button-light {
    &:hover, & > a:hover {
        cursor: pointer !important;
        &.is-h, &.is-w {
            color: var(--is-highlight) !important;
        }
    }
    &:active:not(.dropdown-item) {
        -webkit-filter: invert(50%);
        filter: invert(50%);
    }
    &.dropdown-item:active {
        -webkit-filter: invert(10%);
        filter: invert(10%);
    }

    &.is-warning {
        color: var(--orange);
    }
    &.is-danger {
        color: var(--red);
    }
    &.is-success {
        color: var(--green-frac6);
    }

    &.is-link:hover {
        color: var(--link);
    }

    &:active {
        background-color: inherit;
    }
}

.is-success-light {
    background-color: var(--success-light);
    color: lighten($dark, 10);
}
.is-warning-light {
    background-color: var(--warning-light);
    color: lighten($dark, 10);
    .label, .subtitle, .title {
        color: lighten($dark, 10);
    }
}

.arrow-left { // long
    &::after {
        content: " \27F5 ";
        padding-right: 5px;
        padding-left: 5px;
    }
}
.arrow-right { // long
    &::after {
        content: " \27F6 ";
        padding-right: 5px;
        padding-left: 5px;
    }
}
.arrow-right2 { // short
    font-size: 1rem;
    padding-right: 5px;
    padding-left: 5px;
    &::after {
        content: " \2192 ";
    }
}
.arrow-up { // short
    &::after {
        content: " \2191 ";
        padding-right: 5px;
        padding-left: 5px;
    }
}
.arrow-down { // short
    &::after {
        content: " \2193 ";
        padding-right: 5px;
        padding-left: 5px;
    }
}

.is-queen {
    font-size: 1.2rem;
    padding-right: 5px;
    &::after {
        //content: " \2655 ";
        content: "\2654";
    }
}
.is-king {
    font-size: 1.2rem;
    padding-right: 5px;
    &::after {
        content: " \2655 ";
    }
}

.hbar {
	display: inline-block;
	border-top: 1px solid var(--grey);
	height: 8px;
	width: 25px;
}

.vbar { // next buttons
	display: inline-block;
	border-left: 1px solid #ccc;
	height: 16px;
    margin-left: 5px;
    padding-left: 5px;
}

.vline {
    position: relative;
    display: flex;
    flex-direction: column;
    margin: 0 10px;
    padding-top: 25px;
    padding-bottom: 25px;

    &::after, &::before {
        height: auto;
        width: 1px;

        content: '';
        display: block;
        flex: 1;
        background-color: var(--grey);
    }
}

.wrapped-container {
    max-width: 100%;
}
.wrapped-container-80 {
    max-width: 100%;
}
.wrapped-container-33 {
    max-width: 33%;
}

// wrap text, keep it in one line.:
.is-wrapped {
    max-width: 100%;
    overflow: hidden;
    text-overflow: ellipsis;
}
.nowrap {
    white-space: nowrap;
}

.divider {
    opacity: 0.24;
    &:hover {
        opacity: 1;
        transition: opacity 0.1s;
        cursor: pointer;
    }

    &.is-small::after,
    &.is-small::before {
        width: 2px;
    }

    &.is-vertical {
        margin-top: 0px !important;
        @include touch {
            margin-left: -10px;
            margin-right: -10px;
        }
        @include desktop {
            margin-left: 0px;
            margin-right: 0px;
        }
    }
}


.Circle {
    //padding-top: 4px;
    &::before {
        content: ' \25CF'; // draw a circle (use as tag/bullet)
        font-size: 17px;
    }
}

.circleBase {
    color: var(--text) !important;
    border: 0px solid $dark;
    border-radius: 50%;
    text-align: center;
}

.circleBaseInline {
    border: 0px solid $dark;
    border-radius: 50%;
    color: white !important;
    text-align: center;
    display: inline-block !important;
}

.circle00 {
    background: var(--user-emoticon-bg);
    width: 28px;
    height: 28px;
    padding-top: 8px;
    font-size: 0.8rem;
}

.circle0 {
    background: var(--user-emoticon-bg);
    width: 38px;
    height: 38px;
    padding-top: 10px;
    font-size: 0.8rem;
}

.circle01 {
    background: var(--user-emoticon-bg);
    width: 40px;
    height: 40px;
    text-align: center;
    padding-top: 10px;
    font-size: 0.85rem;
}

.circle1 {
    background: var(--user-emoticon-bg);
    width: 45px;
    height: 45px;
    text-align: center;
    padding-top: 12px;
    font-size: 0.9rem;
}

.circle2 {
    width: 55px;
    height: 55px;
    padding-top: 14px;
}

.circle3 {
    background: var(--user-emoticon-bg);
    width: 200px;
    height: 200px;
    padding-top: 50px;
    font-size: 4rem;
}

.is-orga {
    background: var(--orga-emoticon-bg);
}

.emojis {
    max-width: 400px !important;
    .dropdown-content {
        border-radius: 5px;
        border: 1px solid var(--border-color-light);
        padding: 10px;
        & > span {
            border-radius: 5px;
            padding: 5px 11px 6px;
            &:hover, &.is-active {
                background: var(--background-evidence);
                cursor: pointer;
            }
        }
    }
}

.emoji-reactions {

    margin-bottom: -0.15rem;

    .tag {
        margin-top: $size-small;
        padding: 5px 8px;
        height: 1.8em;
        font-size: 0.9rem;
        border-radius: 12px;
        background-color: var(--tag-hint);
        border: 1px solid var(--tag-hint);
        &:hover {
            border: 1px solid var(--border-color);
            cursor: pointer;
        }
        &.is-selected {
            border: 1px solid var(--border-color);
            background: var(--tag-hint-active);

        }
    }

    .tag.dropdown > .dropdown-menu {
        display: block;
        visibility: hidden !important;
    }
    .tag.dropdown:hover > .dropdown-menu {
        display: block;
        transition-delay: 0.5s;
        visibility: visible !important;
        .dropdown-content {
            border-radius: 8px;
            display: flex;
            white-space: pre-wrap;
            align-items: center;
            margin-bottom: -12px; // Fixed caret margin introduced...
        }
		&:after  {
			content: '';
			border: 8px solid transparent;
			//border-top: 4px solid white;
			border-top: 8px solid var(--dropdown-content-background-color);
            margin-left: 15px;
			display: inline-block;
			vertical-align: top;
            position: relative;
            bottom: -12px;
        }
    }
}

.outside-table {
    position: absolute !important;
    margin-left: 20px;
}

/*
 * CSS arrow please
 */

.has-arrow-left:after, .has-arrow-left:before {
    right: 100%;
    top: 50%;
    border: solid transparent;
    content: " ";
    height: 0;
    width: 0;
    position: absolute;
    pointer-events: none;
}
.has-arrow-left:after {
    border-width: 8px;
    margin-top: -8px;
    border-right-color: var(--comment-header-background-color) !important;
}
.has-arrow-left.is-author:after {
    border-right-color: var(--tag-author) !important;
}
.has-arrow-left:before {
    border-width: 9px;
    margin-top: -9px;
    border-right-color: var(--border-color-light);
}

/*
 * Slider
 */

.slider {
    @include tablet {
        transition: transform .5s ease, opacity .5s ease;
        &.is-slide-left {
            -webkit-transform: translateX(-100%);
            transform: translateX(-100%);
            //opacity: 0;
        }
        &.is-slide-right {
            -webkit-transform: translateX(100%);
            transform: translateX(100%);
            //opacity: 0;
        }
    }
}

/*
 *
 * Loading  Spinner
 *
 */

.spinner {
    // The height here is just for demo purposes
    height: 25vh;
    opacity: 1;
    position: relative;
    transition: opacity linear 0.1s;
	&::before {
		animation: 1.3s linear infinite spinner;
		border: solid 3px #eee;
		border-bottom-color: #6588EF;
		border-radius: 50%;
		content: "";
		height: 40px;
		left: 50%;
		opacity: inherit;
		position: absolute;
		top: 50%;
		-webkit-transform: translate3d(-50%, -50%, 0);
		transform: translate3d(-50%, -50%, 0);
		transform-origin: center;
		width: 40px;
		will-change: transform;
	}
    &.is-small::before {
        height: 20px !important;
        width: 20px !important;
    }
}

.spinner2 { // @todo fix
    // The height here is just for demo purposes
    //height: 25vh;
    opacity: 1;
    position: relative;
    transition: opacity linear 0.1s;
	&::before {
		animation: 1.3s linear infinite spinner;
		border: solid 3px #eee;
		border-bottom-color: #6588EF;
		border-radius: 50%;
		content: "";
		height: 40px;
		left: 0%;
		opacity: inherit;
		position: absolute;
		//top: 50%;
		-webkit-transform: translate3d(-50%, -50%, 0);
		transform: translate3d(-50%, -50%, 0);
		transform-origin: center;
		width: 40px;
		will-change: transform;
	}
    &.is-small::before {
        height: 20px !important;
        width: 20px !important;
    }
}

@keyframes spinner {
    0% {
        -webkit-transform: translate3d(-50%, -50%, 0) rotate(0deg);
        transform: translate3d(-50%, -50%, 0) rotate(0deg);
    }
    100% {
        -webkit-transform: translate3d(-50%, -50%, 0) rotate(360deg);
        transform: translate3d(-50%, -50%, 0) rotate(360deg);
    }
}

.f6-error, .f6-error:hover {
    color: var(--is-danger) !important;
}

/*
 *
 * Placeholder Loading
 *
 */

.is-lazy {
    opacity: 0.6;
}

@keyframes placeHolderLine{
    0%{
        background-position: -460px 0
    }
    100%{
        background-position: 460px 0
    }
}
.ph-line {
    animation-duration: 2s;
    animation-fill-mode: forwards;
    animation-iteration-count: infinite;
    animation-name: placeHolderLine;
    animation-timing-function: linear;
    //background: linear-gradient(to right, #444444 8%, #555555 18%, #444444 33%);
    background: linear-gradient(to right, var(--background-evidence) 0%, var(--ph-background) 10%, var(--background-evidence) 100%);
    overflow: hidden;
    height: 1.5rem;
    width: 100px;
	border-radius: 20px;

    &.is-0 {
        width: 225px;
    }
    &.is-1 {
        width: 460px;
    }
}

.ph-circle {
    animation-duration: 2s;
    animation-fill-mode: forwards;
    animation-iteration-count: infinite;
    animation-name: placeHolderLine;
    animation-timing-function: linear;
    //background: linear-gradient(to right, #444444 8%, #555555 18%, #444444 33%);
    background: linear-gradient(to right, var(--background-evidence) 0%, var(--ph-background) 10%, var(--background-evidence) 100%);
}

@keyframes placeHolderButton{
    0%{
        background-position: -120px 0
    }
    100%{
        background-position: 120px 0
    }
}
.ph-button-1 {
    animation-duration: 2s;
    animation-fill-mode: forwards;
    animation-iteration-count: infinite;
    animation-name: placeHolderButton;
    animation-timing-function: linear;
    background: linear-gradient(to right, var(--background-evidence) 0%, var(--ph-background) 10%, var(--background-evidence) 100%);
    overflow: hidden;
    height: 2.4em;
    width: 120px;
	border-radius: 10px;
}

/*
  --------------
  Pulse effect animation
  Activated by adding a '.pulse' class to the placeholder
  --------------
*/

.ph.pulse div{
  -webkit-animation:pulse 1s infinite ease-in-out;
  animation: pulse 1s infinite ease-in-out;
}

@keyframes pulse
{
  0%{
    background-color: rgba(165,165,165,.1);
  }
  50%{
    background-color: rgba(165,165,165,.3);
  }
  100%{
    background-color: rgba(165,165,165,.1);
  }
}

@-webkit-keyframes pulse
{
  0%{
    background-color: rgba(165,165,165,.1);
  }
  50%{
    background-color: rgba(165,165,165,.3);
  }
  100%{
    background-color: rgba(165,165,165,.1);
  }
}

/*
  --------------
  Wave effect animation
  Activated by adding a '.wave' class to the placeholder
  --------------
*/

.ph.wave div{
    -webkit-animation:wave 1s infinite linear forwards;
    animation: wave 1s infinite linear forwards;
    background: #f6f7f8;
    background: linear-gradient(to right, #eeeeee 8%, #dddddd 18%, #eeeeee 33%);
    background-size: 800px 104px;
}

@keyframes wave{
    0%{
        background-position: -468px 0
    }
    100%{
        background-position: 468px 0
    }
}

@-webkit-keyframes wave{
    0%{
        background-position: -468px 0
    }
    100%{
        background-position: 468px 0
    }
}

/*
 * Canvas spinner
 */


// don't work, but cool to rotate an element xD
.rotate-spinner {
	-webkit-animation:busyIcon 2s linear infinite;
	animation:busyIcon 2s linear infinite;
}
@-moz-keyframes busyIcon { 100% { -moz-transform: rotate(360deg); } }
@-webkit-keyframes busyIcon { 100% { -webkit-transform: rotate(360deg); } }
@keyframes busyIcon { 100% { -webkit-transform: rotate(360deg); transform:rotate(360deg); } }


/*
 *
 * Accordion
 *
 */
.accordion {
	//margin: auto;
}
.accordion input {
	display: none;
}
.acc {
	position: relative;
	transition: all .15s ease-in-out;
}
.acc::before {
	content: '';
	position: absolute;
	display: block;
	top: 0;
	bottom: 0;
	left: 0;
	right: 0;
	pointer-events: none;
}
header.acc {
	z-index: 50;
	cursor: initial;
}
header .acc-title {
	margin: 0;
	cursor: initial;
}
.acc-title {
	//width: calc(100% - 40px);
    width: 100%;
	display: inline-block;
	cursor: pointer;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
}
.acc-content {
    // About using overflow and max-height for making transition.
    //https://stackoverflow.com/questions/3508605/how-can-i-transition-height-0-to-height-auto-using-css?page=1&tab=active#tab-top
    overflow: hidden;
    max-height: 0;
    // this padding transition  prevent the padding (if any) to change during the dropdown collapse while
    // removing the extra space that it causes when collapsed.
    // Thereffore, it cause a slitgly glitch on collapse action... @helpNeeded.
    transition: height,max-height .3s ease, padding 0s 0.3s ease;
}
.acc-close {
	display: none;
	position: absolute;
	height: var(--acc-height-subtitle);
	width: 100%;
	top: 0;
	left: 0;
	cursor: pointer;
}
input:checked + .acc {
	height: auto;
	//margin: 16px 0;
	//box-shadow: 0 0 6px rgba(0,0,0,.16),0 6px 12px rgba(0,0,0,.32);
}
input:checked + .acc .acc-content,
input:checked + .acc .acc-close {
	display: inline-block;
}
input:checked + .acc .acc-content {
    overflow: auto;
    max-height: 800px;
    transition: height,max-height .3s ease, padding 0s;
}
.arrows-left section .acc-title {
	padding-left: 44px;
	width: calc(100%);
}
.arrows-left section .acc-title:before {
	position: absolute;
	display: block;
	content: '\203a';
	font-size: 18pt;
	left: 20px;
	top: -2px;
	transition: transform .15s ease-in-out;
	opacity: 0.5;
}
.arrows-right section .acc-title:before {
	position: absolute;
	display: block;
	content: '\203a';
	font-size: 18pt;
	right: 15px;
	top: 0px;
	transition: transform .15s ease-in-out;
	opacity: 0.5;
}
input:checked + section.acc .acc-title:before {
	-webkit-transform: rotate(90deg);
	transform: rotate(90deg);
}
.arrows-right .acc-title {
    padding-right: 20px;
}

.quickHelp { // Style for accordion (acc)
    header.acc {
        height: var(--acc-height-title) !important;
        background: var(--modal-header-background);
    }
    header .acc-title {
        height: var(--acc-height-title) !important;
        line-height: var(--acc-height-title) !important;
        font-weight: 600;
        font-size: 12pt;
        color: var(--grey-dark);
    }
    .acc-title {
        height: var(--acc-height);
        line-height: var(--acc-height);
        padding: 0 20px;
        color: var(--grey-darker);
    }
    input:checked + .acc .acc-content {
        width: calc(100% - 20px);
        font-size: 11pt;
        padding: 20px 10px 20px 20px;
        color: var(--grey-dark);
    }

    section.acc > .acc-title {
        border-top: 1px solid rgba(0,0,0,.18);
    }
    input:checked + section.acc .acc-title {
        background-color: var(--blue-light);
    }
}

// ----

.accordion {
    .message-header {
        border-radius: 5px;
    }

    .message.is-light {
        opacity: 0.7;
    }
}

/*
 * Self managed accordion
 *  (do not work on table ( mandate settings !)
 */
.is-accordion {
    .is-child {
        overflow: hidden;
        height: 0 !important;
        max-height: 0 !important;
        transition: max-height 0.4s ease-out;
        &.is-open {
            height: 800px !important;
            max-height: 800px !important ;
        }
    }
}

/*
 *
 * Extras
 *
 */

.icon-input-flex-right {
    display: flex;
    align-items: center;
    height: 100%;
    position: absolute;
    top: 0;
    right: 8px;
    z-index: 4;
}

input[type=search] {
    // IE
    &::-ms-clear,
    &::-ms-reveal,
    // Chrome
    &::-webkit-search-decoration,
    &::-webkit-search-cancel-button,
    &::-webkit-search-results-button,
    &::-webkit-search-results-decoration {
        //display: none;
        //margin-right: 1rem;
    }
}

.is-dragging {
    * {
        pointer-events: none;
    }
}

.is-focusing, .message.is-focusing {
    border: 1px solid var(--link) !important;
}

.is-column-over {
    opacity: 1;
    &::after, &::before {
        width: 10px;
        background-color: var(--link);
    }
}

.is-growing {
    animation: growBox 0.15s;
    animation-fill-mode: forwards;
}

